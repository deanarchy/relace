<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="455px" preserveAspectRatio="none" style="width:673px;height:455px;background:#FFFFFF;" version="1.1" viewBox="0 0 673 455" width="673px" zoomAndPan="magnify"><defs><filter height="300%" id="f1t0hpii5mn72k" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#DDDDDD" height="443.5999" style="stroke:#A80036;stroke-width:1.0;" width="247" x="406" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="81" x="489" y="18.077">Auth Domain</text><rect fill="#FFFFFF" filter="url(#f1t0hpii5mn72k)" height="151.2" style="stroke:#000000;stroke-width:2.0;" width="459" x="200" y="194.6"/><rect fill="#FFFFFF" height="74.3999" style="stroke:none;stroke-width:1.0;" width="459" x="200" y="271.4"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="23" x2="23" y1="88.7999" y2="362.7999"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="237" x2="237" y1="88.7999" y2="362.7999"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="470" x2="470" y1="88.7999" y2="362.7999"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="595" x2="595" y1="88.7999" y2="362.7999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="5" y="85.0059">User</text><ellipse cx="23" cy="15" fill="#FEFECE" filter="url(#f1t0hpii5mn72k)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M23,23 L23,50 M10,31 L36,31 M23,50 L10,65 M23,50 L36,65 " fill="none" filter="url(#f1t0hpii5mn72k)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="5" y="374.8059">User</text><ellipse cx="23" cy="388.5999" fill="#FEFECE" filter="url(#f1t0hpii5mn72k)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M23,396.5999 L23,423.5999 M10,404.5999 L36,404.5999 M23,423.5999 L10,438.5999 M23,423.5999 L36,438.5999 " fill="none" filter="url(#f1t0hpii5mn72k)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1t0hpii5mn72k)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="50" x="210" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="217" y="73.0059">Client</text><rect fill="#FEFECE" filter="url(#f1t0hpii5mn72k)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="50" x="210" y="361.7999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="217" y="381.8059">Client</text><rect fill="#FEFECE" filter="url(#f1t0hpii5mn72k)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="116" x="410" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="417" y="73.0059">SignInController</text><rect fill="#FEFECE" filter="url(#f1t0hpii5mn72k)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="116" x="410" y="361.7999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="417" y="381.8059">SignInController</text><rect fill="#FEFECE" filter="url(#f1t0hpii5mn72k)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="104" x="541" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="548" y="73.0059">AuthDatabase</text><rect fill="#FEFECE" filter="url(#f1t0hpii5mn72k)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="104" x="541" y="361.7999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="548" y="381.8059">AuthDatabase</text><polygon fill="#A80036" points="225,116.3999,235,120.3999,225,124.3999,229,120.3999" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="23" x2="231" y1="120.3999" y2="120.3999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="30" y="114.8769">Submit user credentials on /login</text><polygon fill="#A80036" points="458,146,468,150,458,154,462,150" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="237" x2="464" y1="150" y2="150"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="244" y="144.477">POST /api/auth/signin + Credentials</text><polygon fill="#A80036" points="583,175.6,593,179.6,583,183.6,587,179.6" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="470" x2="589" y1="179.6" y2="179.6"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="477" y="174.077">Verify credentials</text><path d="M200,194.6 L260,194.6 L260,201.6 L250,211.6 L200,211.6 L200,194.6 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="151.2" style="stroke:#000000;stroke-width:2.0;" width="459" x="200" y="194.6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15" x="215" y="207.677">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="51" x="275" y="206.8189">[success]</text><polygon fill="#A80036" points="481,229.8,471,233.8,481,237.8,477,233.8" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="475" x2="594" y1="233.8" y2="233.8"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="487" y="228.277">Credentials OK</text><polygon fill="#A80036" points="248,259.4,238,263.4,248,267.4,244,263.4" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="242" x2="469" y1="263.4" y2="263.4"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="254" y="257.877">200 OK Set-Cookie=auth-token</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="200" x2="659" y1="272.4" y2="272.4"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="41" x="205" y="282.6189">[failure]</text><polygon fill="#A80036" points="481,304.1999,471,308.1999,481,312.1999,477,308.1999" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="475" x2="594" y1="308.1999" y2="308.1999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="487" y="302.6769">Credentials error</text><polygon fill="#A80036" points="248,333.7999,238,337.7999,248,341.7999,244,337.7999" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="242" x2="469" y1="337.7999" y2="337.7999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="254" y="332.2769">ERROR 400 Invalid Credentials</text><!--MD5=[21387a13052e8be397182064c8bd9d85]
@startuml [Sequence] Sign In


actor User as User

User -> Client: Submit user credentials on /login
Client -> SignInController: POST /api/auth/signin + Credentials
SignInController -> AuthDatabase: Verify credentials

alt success

    AuthDatabase - -> SignInController: Credentials OK
    SignInController - -> Client: 200 OK Set-Cookie=auth-token
else failure

    AuthDatabase - -> SignInController: Credentials error
    SignInController - -> Client: ERROR 400 Invalid Credentials
end

box "Auth Domain"
participant SignInController
participant AuthDatabase
end box

@enduml

PlantUML version 1.2021.7(Sun May 23 19:40:07 WIB 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>