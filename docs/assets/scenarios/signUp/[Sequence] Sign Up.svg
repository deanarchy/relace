<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="514px" preserveAspectRatio="none" style="width:841px;height:514px;background:#FFFFFF;" version="1.1" viewBox="0 0 841 514" width="841px" zoomAndPan="magnify"><defs><filter height="300%" id="f1f8lp6fwwapfq" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#DDDDDD" height="502.7999" style="stroke:#A80036;stroke-width:1.0;" width="315" x="423" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="81" x="540" y="18.077">Auth Domain</text><rect fill="#FFFFFF" filter="url(#f1f8lp6fwwapfq)" height="210.4" style="stroke:#000000;stroke-width:2.0;" width="611" x="216" y="194.6"/><rect fill="#FFFFFF" height="74.3999" style="stroke:none;stroke-width:1.0;" width="611" x="216" y="330.6"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="23" x2="23" y1="88.7999" y2="422"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="253" x2="253" y1="88.7999" y2="422"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="490" x2="490" y1="88.7999" y2="422"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="680" x2="680" y1="88.7999" y2="422"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="780" x2="780" y1="88.7999" y2="422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="5" y="85.0059">User</text><ellipse cx="23" cy="15" fill="#FEFECE" filter="url(#f1f8lp6fwwapfq)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M23,23 L23,50 M10,31 L36,31 M23,50 L10,65 M23,50 L36,65 " fill="none" filter="url(#f1f8lp6fwwapfq)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="5" y="434.0059">User</text><ellipse cx="23" cy="447.7999" fill="#FEFECE" filter="url(#f1f8lp6fwwapfq)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M23,455.7999 L23,482.7999 M10,463.7999 L36,463.7999 M23,482.7999 L10,497.7999 M23,482.7999 L36,497.7999 " fill="none" filter="url(#f1f8lp6fwwapfq)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1f8lp6fwwapfq)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="50" x="226" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="233" y="73.0059">Client</text><rect fill="#FEFECE" filter="url(#f1f8lp6fwwapfq)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="50" x="226" y="421"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="233" y="441.0059">Client</text><rect fill="#FEFECE" filter="url(#f1f8lp6fwwapfq)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="122" x="427" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="434" y="73.0059">SignUpController</text><rect fill="#FEFECE" filter="url(#f1f8lp6fwwapfq)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="122" x="427" y="421"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="434" y="441.0059">SignUpController</text><rect fill="#FEFECE" filter="url(#f1f8lp6fwwapfq)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="104" x="626" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="633" y="73.0059">AuthDatabase</text><rect fill="#FEFECE" filter="url(#f1f8lp6fwwapfq)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="104" x="626" y="421"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="633" y="441.0059">AuthDatabase</text><rect fill="#FEFECE" filter="url(#f1f8lp6fwwapfq)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="65" x="748" y="49"/><rect fill="#FEFECE" filter="url(#f1f8lp6fwwapfq)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="65" x="744" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="751" y="73.0059">Account</text><rect fill="#FEFECE" filter="url(#f1f8lp6fwwapfq)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="65" x="748" y="421"/><rect fill="#FEFECE" filter="url(#f1f8lp6fwwapfq)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="65" x="744" y="425"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="751" y="445.0059">Account</text><polygon fill="#A80036" points="241,116.3999,251,120.3999,241,124.3999,245,120.3999" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="23" x2="247" y1="120.3999" y2="120.3999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="30" y="114.8769">Submit user credentials on /register</text><polygon fill="#A80036" points="478,146,488,150,478,154,482,150" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="253" x2="484" y1="150" y2="150"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="260" y="144.477">POST /api/auth/signup + Credentials</text><polygon fill="#A80036" points="668,175.6,678,179.6,668,183.6,672,179.6" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="490" x2="674" y1="179.6" y2="179.6"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="497" y="174.077">Check existing email</text><path d="M216,194.6 L276,194.6 L276,201.6 L266,211.6 L216,211.6 L216,194.6 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="210.4" style="stroke:#000000;stroke-width:2.0;" width="611" x="216" y="194.6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15" x="231" y="207.677">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="51" x="291" y="206.8189">[success]</text><polygon fill="#A80036" points="501,229.8,491,233.8,501,237.8,497,233.8" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="495" x2="679" y1="233.8" y2="233.8"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="507" y="228.277">OK email available</text><polygon fill="#A80036" points="668,259.4,678,263.4,668,267.4,672,263.4" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="490" x2="674" y1="263.4" y2="263.4"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="497" y="257.877">Write user credentials data</text><polygon fill="#A80036" points="768.5,289,778.5,293,768.5,297,772.5,293" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="490" x2="774.5" y1="293" y2="293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="497" y="287.477">&lt;&lt; Event UserCreated &gt;&gt;</text><polygon fill="#A80036" points="264,318.6,254,322.6,264,326.6,260,322.6" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="258" x2="489" y1="322.6" y2="322.6"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="270" y="317.077">201 OK Resource Created</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="216" x2="827" y1="331.6" y2="331.6"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="110" x="221" y="341.819">[failure: email exists]</text><polygon fill="#A80036" points="501,363.4,491,367.4,501,371.4,497,367.4" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="495" x2="679" y1="367.4" y2="367.4"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="507" y="361.8769">ERROR email already exists</text><polygon fill="#A80036" points="264,393,254,397,264,401,260,397" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="258" x2="489" y1="397" y2="397"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="270" y="391.477">Error 400 Invalid Credentials</text><!--MD5=[ea4cf4a95b8163b2e63a253594e1a6f7]
@startuml [Sequence] Sign Up


actor User as User
participant Client as Client

box "Auth Domain"
participant SignUpController
participant AuthDatabase
end box

collections Account as Account


User -> Client: Submit user credentials on /register 
Client -> SignUpController: POST /api/auth/signup + Credentials
SignUpController -> AuthDatabase: Check existing email

alt success
    AuthDatabase - -> SignUpController: OK email available
    SignUpController -> AuthDatabase: Write user credentials data
    SignUpController - - -> Account: << Event UserCreated >>
    SignUpController - -> Client: 201 OK Resource Created
    
else failure: email exists
    AuthDatabase - -> SignUpController: ERROR email already exists
    SignUpController - -> Client: Error 400 Invalid Credentials
end



@enduml

PlantUML version 1.2021.7(Sun May 23 19:40:07 WIB 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>