<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="349px" preserveAspectRatio="none" style="width:936px;height:349px;background:#FFFFFF;" version="1.1" viewBox="0 0 936 349" width="936px" zoomAndPan="magnify"><defs><filter height="300%" id="f1rbe7oq3x5r0s" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#DDDDDD" height="337.5999" style="stroke:#A80036;stroke-width:1.0;" width="440" x="407.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="87" x="584" y="18.077">Order Domain</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="56" x2="56" y1="88.7999" y2="256.8"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="264.5" x2="264.5" y1="88.7999" y2="256.8"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="501.5" x2="501.5" y1="88.7999" y2="256.8"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="785.5" x2="785.5" y1="88.7999" y2="256.8"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="889.5" x2="889.5" y1="88.7999" y2="256.8"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="5" y="85.0059">User (Provider)</text><ellipse cx="56.5" cy="15" fill="#FEFECE" filter="url(#f1rbe7oq3x5r0s)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M56.5,23 L56.5,50 M43.5,31 L69.5,31 M56.5,50 L43.5,65 M56.5,50 L69.5,65 " fill="none" filter="url(#f1rbe7oq3x5r0s)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="5" y="268.8059">User (Provider)</text><ellipse cx="56.5" cy="282.5999" fill="#FEFECE" filter="url(#f1rbe7oq3x5r0s)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M56.5,290.5999 L56.5,317.5999 M43.5,298.5999 L69.5,298.5999 M56.5,317.5999 L43.5,332.5999 M56.5,317.5999 L69.5,332.5999 " fill="none" filter="url(#f1rbe7oq3x5r0s)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1rbe7oq3x5r0s)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="50" x="237.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="244.5" y="73.0059">Client</text><rect fill="#FEFECE" filter="url(#f1rbe7oq3x5r0s)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="50" x="237.5" y="255.8"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="244.5" y="275.8059">Client</text><rect fill="#FEFECE" filter="url(#f1rbe7oq3x5r0s)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="176" x="411.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="418.5" y="73.0059">NewCompletionController</text><rect fill="#FEFECE" filter="url(#f1rbe7oq3x5r0s)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="176" x="411.5" y="255.8"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="418.5" y="275.8059">NewCompletionController</text><rect fill="#FEFECE" filter="url(#f1rbe7oq3x5r0s)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="112" x="727.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="734.5" y="73.0059">OrderDatabase</text><rect fill="#FEFECE" filter="url(#f1rbe7oq3x5r0s)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="112" x="727.5" y="255.8"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="734.5" y="275.8059">OrderDatabase</text><rect fill="#FEFECE" filter="url(#f1rbe7oq3x5r0s)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="65" x="857.5" y="49"/><rect fill="#FEFECE" filter="url(#f1rbe7oq3x5r0s)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="65" x="853.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="860.5" y="73.0059">Account</text><rect fill="#FEFECE" filter="url(#f1rbe7oq3x5r0s)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="65" x="857.5" y="255.8"/><rect fill="#FEFECE" filter="url(#f1rbe7oq3x5r0s)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="65" x="853.5" y="259.8"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="860.5" y="279.8059">Account</text><polygon fill="#A80036" points="252.5,116.3999,262.5,120.3999,252.5,124.3999,256.5,120.3999" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="56.5" x2="258.5" y1="120.3999" y2="120.3999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="63.5" y="114.8769">Issue a completion for the order</text><polygon fill="#A80036" points="489.5,146,499.5,150,489.5,154,493.5,150" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="264.5" x2="495.5" y1="150" y2="150"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="271.5" y="144.477">POST /api/orders/{order.id}/complete</text><polygon fill="#A80036" points="773.5,175.6,783.5,179.6,773.5,183.6,777.5,179.6" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="501.5" x2="779.5" y1="179.6" y2="179.6"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="508.5" y="174.077">Write order data (status: PendingCompletion)</text><polygon fill="#A80036" points="878,205.2,888,209.2,878,213.2,882,209.2" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="501.5" x2="884" y1="209.2" y2="209.2"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="508.5" y="203.677">&lt;&lt; Event CompletionIssued &gt;&gt;</text><polygon fill="#A80036" points="275.5,234.8,265.5,238.8,275.5,242.8,271.5,238.8" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="269.5" x2="500.5" y1="238.8" y2="238.8"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="281.5" y="233.277">200 OK Resource Updated</text><!--MD5=[c0c23f593eb261a454041e8c8111e367]
@startuml [Sequence] Issue Order

actor "User (Provider)" as User
participant Client as Client

box "Order Domain"
participant NewCompletionController
participant OrderDatabase
end box

collections Account as Account

User -> Client: Issue a completion for the order
Client -> NewCompletionController: POST /api/orders/{order.id}/complete
NewCompletionController -> OrderDatabase: Write order data (status: PendingCompletion)
NewCompletionController - - -> Account: << Event CompletionIssued >>
NewCompletionController - -> Client: 200 OK Resource Updated

@enduml

PlantUML version 1.2021.7(Sun May 23 19:40:07 WIB 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>