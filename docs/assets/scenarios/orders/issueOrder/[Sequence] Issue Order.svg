<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="349px" preserveAspectRatio="none" style="width:767px;height:349px;background:#FFFFFF;" version="1.1" viewBox="0 0 767 349" width="767px" zoomAndPan="magnify"><defs><filter height="300%" id="f1uyduv526quvi" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#DDDDDD" height="337.5999" style="stroke:#A80036;stroke-width:1.0;" width="357.5" x="320.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="87" x="455.75" y="18.077">Order Domain</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="61" x2="61" y1="88.7999" y2="256.8"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="217" x2="217" y1="88.7999" y2="256.8"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="396.5" x2="396.5" y1="88.7999" y2="256.8"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="616" x2="616" y1="88.7999" y2="256.8"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="720" x2="720" y1="88.7999" y2="256.8"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="5" y="85.0059">User (Customer)</text><ellipse cx="61" cy="15" fill="#FEFECE" filter="url(#f1uyduv526quvi)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M61,23 L61,50 M48,31 L74,31 M61,50 L48,65 M61,50 L74,65 " fill="none" filter="url(#f1uyduv526quvi)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="5" y="268.8059">User (Customer)</text><ellipse cx="61" cy="282.5999" fill="#FEFECE" filter="url(#f1uyduv526quvi)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M61,290.5999 L61,317.5999 M48,298.5999 L74,298.5999 M61,317.5999 L48,332.5999 M61,317.5999 L74,332.5999 " fill="none" filter="url(#f1uyduv526quvi)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1uyduv526quvi)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="50" x="190" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="197" y="73.0059">Client</text><rect fill="#FEFECE" filter="url(#f1uyduv526quvi)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="50" x="190" y="255.8"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="197" y="275.8059">Client</text><rect fill="#FEFECE" filter="url(#f1uyduv526quvi)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="141" x="324.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="331.5" y="73.0059">NewOrderController</text><rect fill="#FEFECE" filter="url(#f1uyduv526quvi)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="141" x="324.5" y="255.8"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="331.5" y="275.8059">NewOrderController</text><rect fill="#FEFECE" filter="url(#f1uyduv526quvi)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="112" x="558" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="565" y="73.0059">OrderDatabase</text><rect fill="#FEFECE" filter="url(#f1uyduv526quvi)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="112" x="558" y="255.8"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="565" y="275.8059">OrderDatabase</text><rect fill="#FEFECE" filter="url(#f1uyduv526quvi)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="65" x="688" y="49"/><rect fill="#FEFECE" filter="url(#f1uyduv526quvi)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="65" x="684" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="691" y="73.0059">Account</text><rect fill="#FEFECE" filter="url(#f1uyduv526quvi)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="65" x="688" y="255.8"/><rect fill="#FEFECE" filter="url(#f1uyduv526quvi)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="65" x="684" y="259.8"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="691" y="279.8059">Account</text><polygon fill="#A80036" points="205,116.3999,215,120.3999,205,124.3999,209,120.3999" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="61" x2="211" y1="120.3999" y2="120.3999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="68" y="114.8769">Place order for an item</text><polygon fill="#A80036" points="385,146,395,150,385,154,389,150" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="217" x2="391" y1="150" y2="150"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="224" y="144.477">POST /api/orders + item.id</text><polygon fill="#A80036" points="604,175.6,614,179.6,604,183.6,608,179.6" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="397" x2="610" y1="179.6" y2="179.6"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="404" y="174.077">Write order data (status: Pending)</text><polygon fill="#A80036" points="708.5,205.2,718.5,209.2,708.5,213.2,712.5,209.2" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="397" x2="714.5" y1="209.2" y2="209.2"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="404" y="203.677">&lt;&lt; Event OrderIssued &gt;&gt;</text><polygon fill="#A80036" points="228,234.8,218,238.8,228,242.8,224,238.8" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="222" x2="396" y1="238.8" y2="238.8"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="234" y="233.277">201 OK Resource Created</text><!--MD5=[2e646b5f285b3c93c138d71f3493a29b]
@startuml [Sequence] Issue Order


actor "User (Customer)" as User
participant Client as Client

box "Order Domain"
participant NewOrderController
participant OrderDatabase
end box

collections Account as Account

User -> Client: Place order for an item
Client -> NewOrderController: POST /api/orders + item.id
NewOrderController -> OrderDatabase: Write order data (status: Pending)
NewOrderController - - -> Account: << Event OrderIssued >>
NewOrderController - -> Client: 201 OK Resource Created


@enduml

PlantUML version 1.2021.7(Sun May 23 19:40:07 WIB 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>